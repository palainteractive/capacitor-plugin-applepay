import { __extends } from "tslib";
import { Injectable } from '@angular/core';
import { IonicNativePlugin, cordova } from '@ionic-native/core';
import { Observable } from 'rxjs';
import * as ɵngcc0 from '@angular/core';
var ApplePay = /** @class */ (function (_super) {
    __extends(ApplePay, _super);
    function ApplePay() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ApplePay.prototype.canMakePayments = function () { return cordova(this, "canMakePayments", { "otherPromise": true }, arguments); };
    ApplePay.prototype.startListeningForShippingContactSelection = function () { return cordova(this, "startListeningForShippingContactSelection", { "observable": true, "clearFunction": "stopListeningForShippingContactSelection" }, arguments); };
    ApplePay.prototype.stopListeningForShippingContactSelection = function () { return cordova(this, "stopListeningForShippingContactSelection", { "otherPromise": true }, arguments); };
    ApplePay.prototype.updateItemsAndShippingMethods = function (list) { return cordova(this, "updateItemsAndShippingMethods", { "otherPromise": true }, arguments); };
    ApplePay.prototype.makePaymentRequest = function (order) { return cordova(this, "makePaymentRequest", { "otherPromise": true }, arguments); };
    ApplePay.prototype.completeLastTransaction = function (complete) { return cordova(this, "completeLastTransaction", { "otherPromise": true }, arguments); };
    ApplePay.pluginName = "ApplePay";
    ApplePay.plugin = "cordova-plugin-applepay";
    ApplePay.pluginRef = "ApplePay";
    ApplePay.repo = "https://github.com/samkelleher/cordova-plugin-applepay";
    ApplePay.platforms = ["iOS"];
ApplePay.ɵfac = /*@__PURE__*/ function () { var ɵApplePay_BaseFactory; return function ApplePay_Factory(t) { return (ɵApplePay_BaseFactory || (ɵApplePay_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(ApplePay)))(t || ApplePay); }; }();
ApplePay.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: ApplePay, factory: function (t) { return ApplePay.ɵfac(t); } });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ApplePay, [{
        type: Injectable
    }], null, null); })();
    return ApplePay;
}(IonicNativePlugin));
export { ApplePay };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9AaW9uaWMtbmF0aXZlL3BsdWdpbnMvYXBwbGUtcGF5L25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLDhCQUFzQyxNQUFNLG9CQUFvQixDQUFDO0FBQ3hFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUM7O0FBQ2xDO0FBRXFCLElBbUpTLDRCQUFpQjtBQUFDO0FBRTlCO0FBQXlFO0FBQ3RGLElBZ0JILGtDQUFlO0FBSzZCLElBVzVDLDREQUF5QztBQU1jLElBTXZELDJEQUF3QztBQU16QyxJQW9DQyxnREFBNkIsYUFBQyxJQUFtQztBQUtuQyxJQXdFOUIscUNBQWtCLGFBQUMsS0FBYTtBQUtBLElBV2hDLDBDQUF1QixhQUFDLFFBQTRCO0FBSWQ7QUFBc0M7QUFBaUQ7QUFBcUM7QUFBOEU7NENBM0xqUCxVQUFVOzs7OzBCQUNMO0FBQUMsbUJBeEpQO0FBQUUsRUF3SjRCLGlCQUFpQjtBQUM5QyxTQURZLFFBQVE7QUFBSSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvcmRvdmEsIElvbmljTmF0aXZlUGx1Z2luLCBQbHVnaW4gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5leHBvcnQgdHlwZSBJTWFrZVBheW1lbnRzID1cbiAgfCAnVGhpcyBkZXZpY2UgY2FuIG1ha2UgcGF5bWVudHMgYW5kIGhhcyBhIHN1cHBvcnRlZCBjYXJkJ1xuICB8ICdUaGlzIGRldmljZSBjYW5ub3QgbWFrZSBwYXltZW50cy4nXG4gIHwgJ1RoaXMgZGV2aWNlIGNhbiBtYWtlIHBheW1lbnRzIGJ1dCBoYXMgbm8gc3VwcG9ydGVkIGNhcmRzJztcbmV4cG9ydCB0eXBlIElTaGlwcGluZ1R5cGUgPSAnc2hpcHBpbmcnIHwgJ2RlbGl2ZXJ5JyB8ICdzdG9yZScgfCAnc2VydmljZSc7XG5leHBvcnQgdHlwZSBJQmlsbGluZ1JlcXVpcmVtZW50ID0gJ25vbmUnIHwgJ2FsbCcgfCAncG9zdGNvZGUnIHwgJ25hbWUnIHwgJ2VtYWlsJyB8ICdwaG9uZSc7XG5leHBvcnQgdHlwZSBJVHJhbnNhY3Rpb25TdGF0dXMgPVxuICB8ICdzdWNjZXNzJ1xuICB8ICdmYWlsdXJlJ1xuICB8ICdpbnZhbGlkLWJpbGxpbmctYWRkcmVzcydcbiAgfCAnaW52YWxpZC1zaGlwcGluZy1hZGRyZXNzJ1xuICB8ICdpbnZhbGlkLXNoaXBwaW5nLWNvbnRhY3QnXG4gIHwgJ3JlcXVpcmUtcGluJ1xuICB8ICdpbmNvcnJlY3QtcGluJ1xuICB8ICdsb2NrZWQtcGluJztcbmV4cG9ydCB0eXBlIElDb21wbGV0ZVRyYW5zYWN0aW9uID0gJ1BheW1lbnQgc3RhdHVzIGFwcGxpZWQuJztcbmV4cG9ydCB0eXBlIElVcGRhdGVJdGVtc0FuZFNoaXBwaW5nU3RhdHVzID0gJ1VwZGF0ZWQgTGlzdCBJbmZvJyB8ICdEaWQgeW91IG1ha2UgYSBwYXltZW50IHJlcXVlc3Q/JztcbmV4cG9ydCB0eXBlIElNZXJjaGFudENhcGFiaWxpdGllcyA9ICczZHMnIHwgJ2NyZWRpdCcgfCAnZGViaXQnIHwgJ2Vtdic7XG5leHBvcnQgdHlwZSBJU3VwcG9ydGVkTmV0d29ya3MgPSAndmlzYScgfCAnYW1leCcgfCAnZGlzY292ZXInIHwgJ21hc3RlckNhcmQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElQYXltZW50UmVzcG9uc2Uge1xuICBiaWxsaW5nTmFtZUZpcnN0Pzogc3RyaW5nO1xuICBiaWxsaW5nTmFtZU1pZGRsZT86IHN0cmluZztcbiAgYmlsbGluZ05hbWVMYXN0Pzogc3RyaW5nO1xuICBiaWxsaW5nRW1haWxBZGRyZXNzPzogc3RyaW5nO1xuICBiaWxsaW5nU3VwcGxlbWVudGFyeVN1YkxvY2FsaXR5Pzogc3RyaW5nO1xuICBiaWxsaW5nQWRkcmVzc1N0cmVldD86IHN0cmluZztcbiAgYmlsbGluZ0FkZHJlc3NDaXR5Pzogc3RyaW5nO1xuICBiaWxsaW5nQWRkcmVzc1N0YXRlPzogc3RyaW5nO1xuICBiaWxsaW5nUG9zdGFsQ29kZT86IHN0cmluZztcbiAgYmlsbGluZ0NvdW50cnk/OiBzdHJpbmc7XG4gIGJpbGxpbmdJU09Db3VudHJ5Q29kZT86IHN0cmluZztcblxuICBzaGlwcGluZ05hbWVGaXJzdD86IHN0cmluZztcbiAgc2hpcHBpbmdOYW1lTWlkZGxlPzogc3RyaW5nO1xuICBzaGlwcGluZ05hbWVMYXN0Pzogc3RyaW5nO1xuICBzaGlwcGluZ0VtYWlsQWRkcmVzcz86IHN0cmluZztcbiAgc2hpcHBpbmdQaG9uZU51bWJlcj86IHN0cmluZztcbiAgc2hpcHBpbmdTdXBwbGVtZW50YXJ5U3ViTG9jYWxpdHk/OiBzdHJpbmc7XG4gIHNoaXBwaW5nQWRkcmVzc1N0cmVldD86IHN0cmluZztcbiAgc2hpcHBpbmdBZGRyZXNzQ2l0eT86IHN0cmluZztcbiAgc2hpcHBpbmdBZGRyZXNzU3RhdGU/OiBzdHJpbmc7XG4gIHNoaXBwaW5nUG9zdGFsQ29kZT86IHN0cmluZztcbiAgc2hpcHBpbmdDb3VudHJ5Pzogc3RyaW5nO1xuICBzaGlwcGluZ0lTT0NvdW50cnlDb2RlPzogc3RyaW5nO1xuXG4gIHBheW1lbnREYXRhOiBzdHJpbmc7XG4gIHRyYW5zYWN0aW9uSWRlbnRpZmllcjogc3RyaW5nO1xuICBwYXltZW50TWV0aG9kRGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIHBheW1lbnRNZXRob2ROZXR3b3JrPzogc3RyaW5nO1xuICBwYXltZW50TWV0aG9kVHlwZUNhcmQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU9yZGVySXRlbSB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGFtb3VudDogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBJU2hpcHBpbmdNZXRob2Qge1xuICBpZGVudGlmaWVyOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGRldGFpbDogc3RyaW5nO1xuICBhbW91bnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJT3JkZXJJdGVtc0FuZFNoaXBwaW5nTWV0aG9kcyB7XG4gIGl0ZW1zOiBJT3JkZXJJdGVtW107XG4gIHNoaXBwaW5nTWV0aG9kcz86IElTaGlwcGluZ01ldGhvZFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElPcmRlciBleHRlbmRzIElPcmRlckl0ZW1zQW5kU2hpcHBpbmdNZXRob2RzIHtcbiAgbWVyY2hhbnRJZGVudGlmaWVyOiBzdHJpbmc7XG4gIGN1cnJlbmN5Q29kZTogc3RyaW5nO1xuICBjb3VudHJ5Q29kZTogc3RyaW5nO1xuICBiaWxsaW5nQWRkcmVzc1JlcXVpcmVtZW50PzogSUJpbGxpbmdSZXF1aXJlbWVudCB8IElCaWxsaW5nUmVxdWlyZW1lbnRbXTtcbiAgc2hpcHBpbmdBZGRyZXNzUmVxdWlyZW1lbnQ/OiBJQmlsbGluZ1JlcXVpcmVtZW50IHwgSUJpbGxpbmdSZXF1aXJlbWVudFtdO1xuICBzaGlwcGluZ1R5cGU/OiBJU2hpcHBpbmdUeXBlO1xuICBtZXJjaGFudENhcGFiaWxpdGllcz86IElNZXJjaGFudENhcGFiaWxpdGllcyB8IElNZXJjaGFudENhcGFiaWxpdGllc1tdO1xuICBzdXBwb3J0ZWROZXR3b3Jrcz86IElTdXBwb3J0ZWROZXR3b3JrcyB8IElTdXBwb3J0ZWROZXR3b3Jrc1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTZWxlY3RlZFNoaXBwaW5nQ29udGFjdCB7XG4gIHNoaXBwaW5nQWRkcmVzc0NpdHk6IHN0cmluZztcbiAgc2hpcHBpbmdBZGRyZXNzU3RhdGU6IHN0cmluZztcbiAgc2hpcHBpbmdQb3N0YWxDb2RlOiBzdHJpbmc7XG4gIHNoaXBwaW5nSVNPQ291bnRyeUNvZGU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBAbmFtZSBBcHBsZSBQYXlcbiAqIEBkZXNjcmlwdGlvblxuICogQSBkZXBlbmRlbmN5IGZyZWUgQ29yZG92YSBwbHVnaW4gdG8gcHJvdmlkZSBBcHBsZSBQYXkgZnVuY3Rpb25hbGl0eS5cbiAqXG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IEFwcGxlUGF5IH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9hcHBsZS1wYXkvbmd4JztcbiAqXG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSBhcHBsZVBheTogQXBwbGVQYXkpIHsgfVxuICpcbiAqIC4uLlxuICogYXN5bmMgYXBwbGVQYXkoKSB7XG4gKiAgIC8vIFRoaXMgYmxvY2sgaXMgb3B0aW9uYWwgLS0gb25seSBpZiB5b3UgbmVlZCB0byB1cGRhdGUgb3JkZXIgaXRlbXMvc2hpcHBpbmdcbiAqICAgLy8gbWV0aG9kcyBpbiByZXNwb25zZSB0byBzaGlwcGluZyBtZXRob2Qgc2VsZWN0aW9uc1xuICogICB0aGlzLmFwcGxlUGF5LnN0YXJ0TGlzdGVuaW5nRm9yU2hpcHBpbmdDb250YWN0U2VsZWN0aW9uKClcbiAqICAgICAuc3Vic2NyaWJlKGFzeW5jIHNlbGVjdGlvbiA9PiB7XG4gKiAgICAgICB0cnkge1xuICogICAgICAgICBhd2FpdCB0aGlzLmFwcGxlUGF5LnVwZGF0ZUl0ZW1zQW5kU2hpcHBpbmdNZXRob2RzKHtcbiAqICAgICAgICAgICBpdGVtczogZ2V0RnJvbVNlbGVjdGlvbihzZWxlY3Rpb24pLFxuICogICAgICAgICAgIHNoaXBwaW5nTWV0aG9kczogZ2V0RnJvbVNlbGVjdGlvbihzZWxlY3Rpb24pLFxuICogICAgICAgICB9KTtcbiAqICAgICAgIH1cbiAqICAgICAgIGNhdGNoIHtcbiAqICAgICAgICAgLy8gaGFuZGxlIHVwZGF0ZSBpdGVtcyBlcnJvclxuICogICAgICAgfVxuICogICAgIH0pO1xuICpcbiAqICAgdHJ5IHtcbiAqICAgICBjb25zdCBhcHBsZVBheVRyYW5zYWN0aW9uID0gYXdhaXQgdGhpcy5hcHBsZVBheS5tYWtlUGF5bWVudFJlcXVlc3Qoe1xuICogICAgICAgaXRlbXMsXG4gKiAgICAgICBzaGlwcGluZ01ldGhvZHMsXG4gKiAgICAgICBtZXJjaGFudElkZW50aWZpZXIsXG4gKiAgICAgICBjdXJyZW5jeUNvZGUsXG4gKiAgICAgICBjb3VudHJ5Q29kZSxcbiAqICAgICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZW1lbnQ6IFsnbmFtZScsICdlbWFpbCcsICdwaG9uZSddLFxuICogICAgICAgc2hpcHBpbmdBZGRyZXNzUmVxdWlyZW1lbnQ6ICdub25lJyxcbiAqICAgICAgIHNoaXBwaW5nVHlwZTogJ3NoaXBwaW5nJ1xuICogICAgIH0pO1xuICpcbiAqICAgICBjb25zdCB0cmFuc2FjdGlvblN0YXR1cyA9IGF3YWl0IGNvbXBsZXRlVHJhbnNhY3Rpb25XaXRoTWVyY2hhbnQoYXBwbGVQYXlUcmFuc2FjdGlvbik7XG4gKiAgICAgYXdhaXQgdGhpcy5hcHBsZVBheS5jb21wbGV0ZUxhc3RUcmFuc2FjdGlvbih0cmFuc2FjdGlvblN0YXR1cyk7XG4gKiAgIH0gY2F0Y2gge1xuICogICAgIC8vIGhhbmRsZSBwYXltZW50IHJlcXVlc3QgZXJyb3JcbiAqICAgICAvLyBDYW4gYWxzbyBoYW5kbGUgc3RvcCBjb21wbGV0ZSB0cmFuc2FjdGlvbiBidXQgdGhlc2Ugc2hvdWxkIG5vcm1hbGx5IG5vdCBvY2N1clxuICogICB9XG4gKlxuICogICAvLyBvbmx5IGlmIHlvdSBzdGFydGVkIGxpc3RlbmluZyBiZWZvcmVcbiAqICAgYXdhaXQgdGhpcy5hcHBsZVBheS5zdG9wTGlzdGVuaW5nRm9yU2hpcHBpbmdDb250YWN0U2VsZWN0aW9uKCk7XG4gKiB9XG4gKiBgYGBcbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdBcHBsZVBheScsXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLWFwcGxlcGF5JyxcbiAgcGx1Z2luUmVmOiAnQXBwbGVQYXknLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3NhbWtlbGxlaGVyL2NvcmRvdmEtcGx1Z2luLWFwcGxlcGF5JyxcbiAgcGxhdGZvcm1zOiBbJ2lPUyddLFxufSlcbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBcHBsZVBheSBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqIERldGVjdHMgaWYgdGhlIGN1cnJlbnQgZGV2aWNlIHN1cHBvcnRzIEFwcGxlIFBheSBhbmQgaGFzIGFueSBjYXBhYmxlIGNhcmRzIHJlZ2lzdGVyZWQuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8SU1ha2VQYXltZW50cz59IFJldHVybnMgYSBwcm9taXNlXG4gICAqXG4gICAqIEB1c2FnZVxuICAgKiB0cnkge1xuICAgKiAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0aGlzLmFwcGxlUGF5LmNhbk1ha2VQYXltZW50cygpO1xuICAgKiAgIC8vIEFwcGxlIFBheSBpcyBlbmFibGVkIGFuZCBhIHN1cHBvcnRlZCBjYXJkIGlzIHNldHVwLiBFeHBlY3Q6XG4gICAqICAgLy8gJ1RoaXMgZGV2aWNlIGNhbiBtYWtlIHBheW1lbnRzIGFuZCBoYXMgYSBzdXBwb3J0ZWQgY2FyZCdcbiAgICogfSBjYXRjaCAobWVzc2FnZSkge1xuICAgKiAgIC8vIFRoZXJlIGlzIGFuIGlzc3VlLCBleGFtaW5lIHRoZSBtZXNzYWdlIHRvIHNlZSB0aGUgZGV0YWlscywgd2lsbCBiZTpcbiAgICogICAvLyAnVGhpcyBkZXZpY2UgY2Fubm90IG1ha2UgcGF5bWVudHMuJydcbiAgICogICAvLyAnVGhpcyBkZXZpY2UgY2FuIG1ha2UgcGF5bWVudHMgYnV0IGhhcyBubyBzdXBwb3J0ZWQgY2FyZHMnXG4gICAqIH1cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBvdGhlclByb21pc2U6IHRydWUsXG4gIH0pXG4gIGNhbk1ha2VQYXltZW50cygpOiBQcm9taXNlPElNYWtlUGF5bWVudHM+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIGxpc3RlbmluZyBmb3Igc2hpcHBpbmcgY29udGFjdCBzZWxlY3Rpb24gY2hhbmdlc1xuICAgKiBBbnkgdGltZSB0aGUgdXNlciBzZWxlY3RzIHNoaXBwaW5nIGNvbnRhY3QsIHRoaXMgY2FsbGJhY2sgd2lsbCBmaXJlLlxuICAgKiBZb3UgKm11c3QqIGNhbGwgYHVwZGF0ZUl0ZW1zQW5kU2hpcHBpbmdNZXRob2RzYCBpbiByZXNwb25zZSBvciBlbHNlIHRoZVxuICAgKiB1c2VyIHdpbGwgbm90IGJlIGFibGUgdG8gcHJvY2VzcyBwYXltZW50LlxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlPElTZWxlY3RlZFNoaXBwaW5nQ29udGFjdD59IGVtaXRzIHdpdGggc2hpcHBpbmcgY29udGFjdCBpbmZvcm1hdGlvbiBvblxuICAgKiAgIHNoaXBwaW5nIGNvbnRhY3Qgc2VsZWN0aW9uIGNoYW5nZXNcbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxuICAgIGNsZWFyRnVuY3Rpb246ICdzdG9wTGlzdGVuaW5nRm9yU2hpcHBpbmdDb250YWN0U2VsZWN0aW9uJyxcbiAgfSlcbiAgc3RhcnRMaXN0ZW5pbmdGb3JTaGlwcGluZ0NvbnRhY3RTZWxlY3Rpb24oKTogT2JzZXJ2YWJsZTxJU2VsZWN0ZWRTaGlwcGluZ0NvbnRhY3Q+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgbGlzdGVuaW5nIGZvciBzaGlwcGluZyBjb250YWN0IHNlbGVjdGlvbiBjaGFuZ2VzXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IHdoZXRoZXIgc3RvcCBsaXN0ZW5pbmcgd2FzIHN1Y2Nlc3NmdWwuIFRoaXMgc2hvdWxkXG4gICAqICAgcmVhbGx5IG9ubHkgZmFpbCBpZiB0aGlzIGlzIGNhbGxlZCB3aXRob3V0IHN0YXJ0aW5nIGxpc3RlbmluZ1xuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIG90aGVyUHJvbWlzZTogdHJ1ZSxcbiAgfSlcbiAgc3RvcExpc3RlbmluZ0ZvclNoaXBwaW5nQ29udGFjdFNlbGVjdGlvbigpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBsaXN0IG9mIHBheSBzaGVldCBpdGVtcyBhbmQgc2hpcHBpbmcgbWV0aG9kcyBpbiByZXNwb25zZSB0b1xuICAgKiBhIHNoaXBwaW5nIGNvbnRhY3Qgc2VsZWN0aW9uIGV2ZW50LiBUaGlzICptdXN0KiBiZSBjYWxsZWQgaW4gcmVzcG9uc2UgdG9cbiAgICogYW55IHNoaXBwaW5nIGNvbnRhY3Qgc2VsZWN0aW9uIGV2ZW50IG9yIGVsc2UgdGhlIHVzZXIgd2lsbCBub3QgYmUgYWJsZVxuICAgKiB0byBjb21wbGV0ZSBhIHRyYW5zYWN0aW9uIG9uIHRoZSBwYXkgc2hlZXQuIERvIG5vdCBjYWxsIHdpdGhvdXRcbiAgICogc3Vic2NyaWJpbmcgdG8gc2hpcHBpbmcgY29udGFjdCBzZWxlY3Rpb24gZXZlbnRzIGZpcnN0XG4gICAqXG4gICAqIEBwYXJhbSB7SU9yZGVySXRlbXNBbmRTaGlwcGluZ01ldGhvZHN9IGxpc3QgYGl0ZW1zYCBhbmQgYHNoaXBwaW5nTWV0aG9kc2AgcHJvcGVydGllcy5cbiAgICogQHJldHVybnMge1Byb21pc2U8SVVwZGF0ZUl0ZW1zQW5kU2hpcHBpbmdTdGF0dXM+fVxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogdGhpcy5hcHBsZVBheS5zdGFydExpc3RlbmluZ0ZvclNoaXBwaW5nQ29udGFjdFNlbGVjdGlvbigpLnBsdWNrKCdzaGlwcGluZ0FkZHJlc3NTdGF0ZScpLnN1YnNjcmliZShzaGlwcGluZ0FkZHJlc3NTdGF0ZSA9PiB7XG4gICAqICAgbGV0IHNoaXBwaW5nTWV0aG9kcztcbiAgICogICBpZiAoJ0FLJyA9PT0gc2hpcHBpbmdBZGRyZXNzU3RhdGUpIHtcbiAgICogICAgIHNoaXBwaW5nTWV0aG9kcyA9IFt7XG4gICAqICAgICAgICAgaWRlbnRpZmllcjogJ0FsYXNrYScsXG4gICAqICAgICAgICAgbGFiZWw6ICdBbGFza2EnLFxuICAgKiAgICAgICAgIGRldGFpbDogJ0ZvciBzaGlwcGluZyB0byBBbGFza2EnLFxuICAgKiAgICAgICAgIGFtb3VudDogOS45OVxuICAgKiAgICAgfSxdO1xuICAgKiAgIH0gZWxzZSB7XG4gICAqICAgICBzaGlwcGluZ01ldGhvZHMgPSBbe1xuICAgKiAgICAgICAgIGlkZW50aWZpZXI6ICdDb250aW5lbnRhbCcsXG4gICAqICAgICAgICAgbGFiZWw6ICdDb250aW5lbnRhbCcsXG4gICAqICAgICAgICAgZGV0YWlsOiAnRm9yIHNoaXBwaW5nIENvbnRpbmVudGFsbHknLFxuICAgKiAgICAgICAgIGFtb3VudDogNS45OVxuICAgKiAgICAgfV07XG4gICAqICAgfVxuICAgKiAgIHRoaXMucGF5U2hlZXRJdGVtcy5zaGlwcGluZ0Nvc3QgPSB7XG4gICAqICAgICAgbGFiZWw6ICdTaGlwcGluZyBDb3N0JyxcbiAgICogICAgICBhbW91bnQ6IHNoaXBwaW5nTWV0aG9kWzBdLmFtb3VudFxuICAgKiAgIH1cbiAgICogICB0aGlzLmFwcGxlUGF5LnVwZGF0ZUl0ZW1zQW5kU2hpcHBpbmdNZXRob2RzKHRoaXMucGF5U2hlZXRJdGVtcywgc2hpcHBpbmdNZXRob2RzKTtcbiAgICogfSk7XG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgb3RoZXJQcm9taXNlOiB0cnVlLFxuICB9KVxuICB1cGRhdGVJdGVtc0FuZFNoaXBwaW5nTWV0aG9kcyhsaXN0OiBJT3JkZXJJdGVtc0FuZFNoaXBwaW5nTWV0aG9kcyk6IFByb21pc2U8SVVwZGF0ZUl0ZW1zQW5kU2hpcHBpbmdTdGF0dXM+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCBhIHBheW1lbnQgd2l0aCBBcHBsZSBQYXlcbiAgICpcbiAgICogQHBhcmFtIHtJT3JkZXJ9IG9yZGVyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8SVBheW1lbnRSZXNwb25zZT59IFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBzb21ldGhpbmcgaGFwcGVuc1xuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogdHJ5IHtcbiAgICogICBjb25zdCBwYXltZW50UmVzcG9uc2UgPSB0aGlzLmFwcGxlUGF5Lm1ha2VQYXltZW50UmVxdWVzdCh7XG4gICAqICAgICBpdGVtczogW1xuICAgKiAgICAgICB7XG4gICAqICAgICAgICAgbGFiZWw6ICczIHggQmFza2V0IEl0ZW1zJyxcbiAgICogICAgICAgICBhbW91bnQ6IDQ5Ljk5XG4gICAqICAgICAgIH0sXG4gICAqICAgICAgIHtcbiAgICogICAgICAgICBsYWJlbDogJ05leHQgRGF5IERlbGl2ZXJ5JyxcbiAgICogICAgICAgICBhbW91bnQ6IDMuOTlcbiAgICogICAgICAgfSxcbiAgICogICAgICAge1xuICAgKiAgICAgICAgIGxhYmVsOiAnTXkgRmFzaGlvbiBDb21wYW55JyxcbiAgICogICAgICAgICBhbW91bnQ6IDUzLjk4XG4gICAqICAgICAgIH1cbiAgICogICAgIF0sXG4gICAqICAgICBzaGlwcGluZ01ldGhvZHM6IFtcbiAgICogICAgICAge1xuICAgKiAgICAgICAgIGlkZW50aWZpZXI6ICdOZXh0RGF5JyxcbiAgICogICAgICAgICBsYWJlbDogJ05leHREYXknLFxuICAgKiAgICAgICAgIGRldGFpbDogJ0Fycml2ZXMgdG9tb3Jyb3cgYnkgNXBtLicsXG4gICAqICAgICAgICAgYW1vdW50OiAzLjk5XG4gICAqICAgICAgIH0sXG4gICAqICAgICAgIHtcbiAgICogICAgICAgICBpZGVudGlmaWVyOiAnU3RhbmRhcmQnLFxuICAgKiAgICAgICAgIGxhYmVsOiAnU3RhbmRhcmQnLFxuICAgKiAgICAgICAgIGRldGFpbDogJ0Fycml2ZSBieSBGcmlkYXkuJyxcbiAgICogICAgICAgICBhbW91bnQ6IDQuOTlcbiAgICogICAgICAgfSxcbiAgICogICAgICAge1xuICAgKiAgICAgICAgIGlkZW50aWZpZXI6ICdTYXR1cmRheURlbGl2ZXJ5JyxcbiAgICogICAgICAgICBsYWJlbDogJ1NhdHVyZGF5JyxcbiAgICogICAgICAgICBkZXRhaWw6ICdBcnJpdmUgYnkgNXBtIHRoaXMgU2F0dXJkYXkuJyxcbiAgICogICAgICAgICBhbW91bnQ6IDYuOTlcbiAgICogICAgICAgfVxuICAgKiAgICAgXSxcbiAgICogICAgIG1lcmNoYW50SWRlbnRpZmllcjogJ21lcmNoYW50LmFwcGxlLnRlc3QnLFxuICAgKiAgICAgY3VycmVuY3lDb2RlOiAnR0JQJyxcbiAgICogICAgIGNvdW50cnlDb2RlOiAnR0InLFxuICAgKiAgICAgYmlsbGluZ0FkZHJlc3NSZXF1aXJlbWVudDogJ25vbmUnLFxuICAgKiAgICAgc2hpcHBpbmdBZGRyZXNzUmVxdWlyZW1lbnQ6ICdub25lJyxcbiAgICogICAgIHNoaXBwaW5nVHlwZTogJ3NoaXBwaW5nJyxcbiAgICogICB9KTtcbiAgICpcbiAgICogICAvLyBUaGUgdXNlciBoYXMgYXV0aG9yaXplZCB0aGUgcGF5bWVudC5cbiAgICpcbiAgICogICAvLyBIYW5kbGUgdGhlIHRva2VuLCBhc3luY2hyb25vdXNseSwgaS5lLiBwYXNzIHRvIHlvdXIgbWVyY2hhbnQgYmFuayB0b1xuICAgKiAgIC8vIGFjdGlvbiB0aGUgcGF5bWVudCwgdGhlbiBvbmNlIGZpbmlzaGVkLCBkZXBlbmRpbmcgb24gdGhlIG91dGNvbWU6XG4gICAqXG4gICAqICAgLy8gSGVyZSBpcyBhbiBleGFtcGxlIGltcGxlbWVudGF0aW9uOlxuICAgKlxuICAgKiAgIGNvbnN0IGNhcHR1cmVTdGF0dXMgPSBhd2FpdCBNeVBheW1lbnRQcm92aWRlci5hdXRob3JpemVBcHBsZVBheVRva2VuKHBheW1lbnRSZXNwb25zZS5wYXltZW50RGF0YSk7XG4gICAqICAgYXdhaXQgdGhpcy5hcHBsZVBheS5jb21wbGV0ZUxhc3RUcmFuc2FjdGlvbignc3VjY2VzcycpO1xuICAgKiB9XG4gICAqIGNhdGNoIChlcnIpIHtcbiAgICogICBpZiAoaXNQYXltZW50QXV0aEVycm9yKGVycikpIHtcbiAgICogICAgIHRoaXMuY29tcGxldGVMYXN0VHJhbnNhY3Rpb24oJ2ZhaWx1cmUnKTtcbiAgICogICB9XG4gICAqICAgZWxzZSB7XG4gICAqICAgICAvLyBGYWlsZWQgdG8gb3BlbiBwYXkgc2hlZXQgb3IgdXNlciBjYW5jZWxlZCBwYXltZW50XG4gICAqICAgfVxuICAgKiB9XG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgb3RoZXJQcm9taXNlOiB0cnVlLFxuICB9KVxuICBtYWtlUGF5bWVudFJlcXVlc3Qob3JkZXI6IElPcmRlcik6IFByb21pc2U8SVBheW1lbnRSZXNwb25zZT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBPbmNlIHRoZSBtYWtlUGF5bWVudFJlcXVlc3QgaGFzIGJlZW4gcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5LCB0aGUgZGV2aWNlIHdpbGwgYmUgd2FpdGluZyBmb3IgYSBjb21wbGV0aW9uIGV2ZW50LlxuICAgKiBUaGlzIG1lYW5zLCB0aGF0IHRoZSBhcHBsaWNhdGlvbiBtdXN0IHByb2NlZWQgd2l0aCB0aGUgdG9rZW4gYXV0aG9yaXphdGlvbiBhbmQgcmV0dXJuIGEgc3VjY2VzcywgZmFpbHVyZSxcbiAgICogb3Igb3RoZXIgdmFsaWRhdGlvbiBlcnJvci4gT25jZSB0aGlzIGhhcyBiZWVuIHBhc3NlZCBiYWNrLCB0aGUgQXBwbGUgUGF5IHNoZWV0IHdpbGwgYmUgZGlzbWlzc2VkIHZpYSBhbiBhbmltYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7SVRyYW5zYWN0aW9uU3RhdHVzfSBjb21wbGV0ZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPElDb21wbGV0ZVRyYW5zYWN0aW9uPn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciBjb25maXJtYXRpb24gb2YgcGF5bWVudCBhdXRob3JpemF0aW9uIGNvbXBsZXRpb25cbiAgICpcbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBvdGhlclByb21pc2U6IHRydWUsXG4gIH0pXG4gIGNvbXBsZXRlTGFzdFRyYW5zYWN0aW9uKGNvbXBsZXRlOiBJVHJhbnNhY3Rpb25TdGF0dXMpOiBQcm9taXNlPElDb21wbGV0ZVRyYW5zYWN0aW9uPiB7XG4gICAgcmV0dXJuO1xuICB9XG59XG4iXX0=